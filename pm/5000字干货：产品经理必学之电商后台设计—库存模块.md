
>编辑导语：电商后台设计，是作为产品经理必学的一项技能。本文从三个方面来对电商后台设计的库存模块进行相应的介绍，期待能够与你交流学习。

各位小伙伴好，本文是电商后台设计系列文章的第二篇，库存模块。关于第一部分商品模块的内容可以查看我之前的文章。

## 一、库存基本概念

### 1. 库存定义

首先我们来了解一下库存的基本概念，狭义上，库存指仓库里实际存储的货物，为了满足未来需要而准备的储备资源。包括在仓库里的、在实体店里的、在运输途中，包括在外的所有商品。库存代表企业对于商品实物的把控能力。而在电商系统中，库存是虚拟数字，决定了销售端的供给。

那么，我们为什么要研究与管理好库存呢？换句话说，库存管理不当会带来的危害有哪些。通常，我们会认为库存管理不当有两种情况：库存过少、库存过大。

- 库存过少的风险：产生缺货，损失营业额进而损失利润。

- 库存过大的风险：商品因变旧、变质、过期而产生损耗；占用库存且增大资金压力。

因此，库存即成本，亦是业务筹码。库存管理能力代 表供应链管理水平。

### 2. 库存变动

库存是一个动态变化的数字，接下来我们来探究一下库存的变动过程。首先我们了解几个库存的概念：

- 销售库存：可以售卖的商品数量。

- 实物库存：仓库存放的实物商品数量。

- 可用库存：可以对外销售的数量。

- 锁定库存：已经被预定的商品数量。

- 已售库存：已经出售的商品数量。

- 活动库存：做促销活动时设置的库存，可以共享普通库存也可设置独立库存。

- 预售库存：做预售活动时设置的虚拟库存，预售订单需支付尾款订单才能成立。

接下来我们看一下几个引发库存变动的基础操作：

- 增加：手动调整或实时同步（与实物库存系统打通）。

- 锁定：下单之后锁定库存。

- 解锁：订单取消之后释放锁定库存。

- 扣减：订单支付成功之后扣减库存，扣减锁定库存。

- 返还：退货、换货后返还库存，相当于增加库存。

- 异常处理：库存数据在定期校验时，如果出现异常数据，就需要进行异常处理（自动或人工处理）。

在库存的变动中，最关键的节点是库存的扣减，在什么时候扣减库存非常重要。目前通用的库存扣减方案有两种：用户下单扣减库存和用户付款扣减库存。

用户下单扣减库存是目前通用方案，其优势在于保证用户只要下单，就一定可以买到货。其劣势有两点：

- 在库存紧张时，用户下单之后不付款，会影响其他用户购买。

- 可能被大量占用库存，导致其他人购买不了；目前的解决办法是：限制订单锁定库存时间，超时自动取消。

特殊的方案是用户付款扣减库存，其优势在于库存不会长时间占用，真正想买的用户可以买到。其劣势有两点：

- 能存在超卖风险。

- 用户下单后，无法支付发货。该种特殊方案适用于特定的场景：比如活动抢购场景以及库存紧张的场景。

### 3. 活动库存 #库存

在多种促销活动中，我们如何处理销售库存？目前通用的方案有三种：共享库存、独占库存、预占库存。

#### （1）共享库存

即活动库存与普通商品的库存共享，无论是活动售出还是普通售出均扣减一个库存，常见于满减满折、满赠活动等。

#### （2）独占库存

活动库存和普通商品的库存相互独立，运营在设置营销活动时会为活动设置一个活动库存，该库存是普通商品售卖的库存独立。在活动开始前，扣减普通销售库存。

活动开始后，扣减活动库存。活动结束后，活动库存返还至普通销售库存。

#### （3）预占库存

常用于预售活动，是提前为活动设置的一个虚拟库存，与普通库存、活动库存独立不相关。在预售订单完成尾款支付后，按订单顺序依次锁定库存。

总结一下活动库存之间的关系：

库存关系

- 一般情况下活动库存是独占库存，占据销售库存的一部分。

- 实物库存一般情况下等于销售库存，大于销售库存时会有库存的剩余，小于销售库存则会产生超卖现象。

- 预售库存一般和销售库存独立，单独用于预售等活动。

## 二、库存分层流转

我们在电商平台购物时会发现同一商品在不同地区有不同的库存数量、不同的物流时效。商品在不同地区，同一地区不同地点的差异配送主要依靠库存的调度实现。

以天猫超市为例，天猫超市在全国有集货仓（CDC）和前置仓（RDC）两种仓库，集货仓数量少但是仓库大，相应的覆盖的区域物流时效较低。

前置仓数量较多，相应的能覆盖更多的区域，同时覆盖区域的配送物流时效更短。商家可以选择送货至不同的仓库。

物流能力较弱的商家，可以将货物送至集货大仓（CDC），再由CDC调拨/越库至各区域内的前置仓（RDC）。

物流能力较强的商家，可以将货物送至前置仓（RDC），由RDC配送至各区域。

天猫超市有这么多仓库，当接收到一个订单时，该安排从哪个仓库发货？发几个包裹？地区没货怎么办？这里我们介绍一种库存分层流转的模型。

### 1. 库存分层

这是本文非常重要的概念，我们将从销售系统到仓库相关的流程分为三个层次：销售层、调度层、仓库存。各库存概念见图。

库存分层

在各层的库存分布如图所示：

分层详细库存

销售层的库存相关概念在第一部分已经讲解过，我们来讲解第二层，调度层。

调度层的库存分为总库存、单仓、区域三个维度。

#### （1）总库存

即所有仓库的SKU库存总计。

- 账面库存：仓库中的实物库存，只要是未出库的都算在账面库存中。

- 可用库存：仓库中可供发货的库存。这部分库存是可供调度的库存。

- 在途库存：下了采购单但是尚未入库的库存，在途库存理论上部分是可供销售的。

- 不可销售库存：仓库盘损的库存，通常是仓库中的不良品，是无法售卖的库存。这部分库存需要通过特定途径处理。

#### （2）单仓

某个仓库的库存详情。

#### （3）区域库存

这些仓库只发某一区域的，例如华中地区的仓库只配送华中区域，北京就无法从华中地区的仓库发货。

调度层库存结构如下图：

仓库层的库存对应的是实物库存，出库入库盘点都会引起仓库库存的变动。

- 可用库存：发货单推至仓库后，仓库可以用于发货的库存，不包括锁定的库存。

- 锁定库存：发货单推送至仓库后锁定库存，锁定时同时去锁定库位库存。

- 已出库库存：已经确认出库的实物库存。

- 次品库存：盘点时发现的不良品，需要报损，从可用库存转化为不可用库存。

上述讲述的是仓库内部的库存，但是一般情况下我们只关注仓库对外输出的可用库存是多少，即只关注WMS对外库存。

### 2. 库存变动

按库存分层的模型，库存的变动有两种方向：自上而下的变动以及自下而上的变动。

库存自上而下变动

库存自下而上变动

总结一下，引发库存变动的主要因素有：

- 销售订单

- 采购订单

- 盘盈盘亏

- 预售订单

- 售后退货

- 其他单据（仓间调拨、线下出入库）

稍微拓展一下，仓库库存体系较为复杂，分为对外库存、内部库存体系，内部库存包括库位库存、库区库存、货品类型库存等。

仓库内引发库存变动的操作主要分为三种：出库、入库、其他操作。

- 出库包括拣货、二次拣货、复核、打包、交接等操作。

- 入库包括验收、入库、商品贴码、上架等操作。

- 其他操作包括盘点、移库、异常反库等。

最后，从销售订单开始，我们串联销售订单在三层之间流转的过程：

库存变动

### 3. 实例解析

上述讲解的比较抽象，小伙伴可以结合下图中的例子，自己亲自动手梳理一遍，相信你会多库存的分层流转有更深一步的理解。

场景：A书店在全国有8个仓库，某书库存为30个。小白购买了10本书，都是SH仓库发货，初始库存为30个。

1. 未支付时退1本，然后支付成功；

2. 在书本未发货的时候，再退2本；

3. 在收到物品后，再退3本。

根据以上信息，下图描述过程中三层库存架构的库存变动：

库存变动实例

## 三、库存调度与管控

### 1. 库存调度

不知道小伙伴有没有在京东购物的经历，谈到京东客户满意度最高的一个方面就是京东非常强大的物流，长三角基本次日达甚至当日达，现在又推出了半小时达，物流能力非常强大。

据公开消息，截至2020年6月30日，京东物流运营超过750个仓库，分为中心仓、区域仓、城市仓、本地仓、前置仓等规模不一、不同层级的仓库。

基于这些不同层级仓群的布局和辐射能力，京东构建了其强大的物流配送能力。

那么。当用户下单后，京东是怎么调度库存的呢？

首先我们来了解一下京东各个类型的仓库辐射能力：

- 中心仓：覆盖全国地区

- 区域仓：覆盖部分区域，如华中地区

- 城市仓：覆盖仓库所在城市及周边城市

- 本地仓：覆盖当前城市

- 前置仓：覆盖仓库周边生活区域（几十公里）

根据仓库的类型我们可以得到各个仓库之间的差异：

- 优先级：前置仓＞本地仓＞城市仓＞区域仓＞中心仓

- 区域覆盖范围：前置仓＜本地仓＜城市仓＜区域仓＜中心仓

- 品类覆盖：前置仓＜本地仓＜城市仓＜区域仓＜中心仓

除了仓库类型的判断，还需要判断仓库的库存，根据我们第2部分讲到的，若有多个仓库，库存又有单仓库存、区域库存和总库存的之分，具体可回顾上一部分内容。

那么，当一个京东用户下单时，京东会选择覆盖当前收货地址且有库存的仓库，按照仓库的区域优先级进行选择发货。

库存调度

上述讲的是库存的发货调度，实际还有库存的仓间调度。

例如根据实际库存的消耗与变动或者根据需求预测与匹配，发现A的库存缺少而B的库存有多，那么就可以采用仓间调度规则将B仓的货物调度至A仓。感兴趣的小伙伴可以深入了解。

### 2. 库存管控

在实际中我们会发现，无论是一些中大型的卖家，还是品牌商，亦或是自营电商平台，他们往往不会仅在一个渠道卖货。

>我们来看一下例子，根据零食品牌良品铺子在其招股书中披露的信息显示：公司将按照“平台电商＋社交电商＋自营渠道”多线布局的发展原则，拥有包括天猫、京东、唯品会在内的数十家电商平台销售渠道。

同时推出自营APP平台，增强会员粘性、提升消费者忠诚度。并通过将门店与美团、饿了么等多个本地生活平台打通，推出“线上下单快速送达”、“线上下单门店取货”等策略。

因此，对于这部分商家，如果进行多渠道的库存管控是一个重要的问题。

根据我们第2部分学习的库存分层的方法，我们同样可以将多渠道的库存按销售层、调度层、实物层三层进行调度管控，下图为多渠道库存管理策略图。

库存管控

对于自营平台，其前台库存一般对接销售层进行渠道库存同步与调度。对于第三方平台，一般直接对接调度层进行库存同步。

### 3. 库存分配

对于品牌商家，对接多个三方渠道后，还会涉及各渠道的库存数量管理策略。行业内常用的策略有三种：

#### （1）库存共享

即多个渠道共用库存，例如我有100个库存，我一开始在各个渠道都挂100的库存，一旦一个渠道销售出去后，同步各个渠道库存扣减。

这个方案有一个缺点：库存多渠道同步存在延迟，会出现超卖的情况。

因此，我们可以预留一部分安全库存应对此种情况。比如我有100件，只在各渠道上架90件，剩余10件作安全库存。

#### （2）库存比例分配

即给各个渠道按比例分配，比如A渠道卖得好，分配60%库存，B渠道分配40%，各自独立扣减。

这种策略相对第一种方法来说不存在超卖的风险，但是其缺点是带来了库存的浪费。

因为我们不可能精准预测每个渠道的库存，所以就会存在有的多了有的不够的情况，失去了销售机会，变相亏损。

#### （3）渠道虚拟库存

即不合实物库存挂钩，按一定规则设置各渠道库存。

在使用了合适的库存分配策略后，我们还需要对库存进行上下架管理：如果商品没有库存却没有下架会造成流量的浪费，如果商品没有库存没有及时补货也将损失销售机会。

因此，我们一般会采用自动上下架管理，设置库存安全临界值的方法，让无库存商品自动下架，临界库存及时告知商家或自动叫货。

说到库存的管理与分配，我们经常会接触进销存管理系统，我们这里放一张其架构图，有兴趣的小伙伴可以详细研究。

进销存系统

## 四、总结

在前面的文章中，我们主要学习了以SKU为标的进行管理的库存，包括：

- 掌握库存的变化：掌握库存动作（增加、锁定、解锁、扣减、返还、异常处理），理解销售下单过程的库存变化，各种类型的库存（活动库存、销售库存）及应用场景。

- 知道库存分层：销售层、调度层、仓库层的内部结构与库存变动过程，了解分仓调度的规则。

- 了解库存变动全流程：发货仓库选择的调度规则，多渠道库存管理，销售预测与补货，库存各系统交互。

下图是整篇文章的核心架构图，建议仔细研究。

库存产品架构

在电商业务中，对于供应链的管控可以影响一家平台的生死，而供应链管理的精髓就是在于对库存的管控。

我们学习库存就是学习整个供应链的过程感兴趣的小伙伴还可以继续深入学习供应链相关的知识。

以上就是电商后台库存模块所有的内容了，部分内容只是简单介绍，有兴趣的小伙伴可以深入了解。

下一期，我继续分享电商后台，关于促销模块的知识，尽请期待。

注明：本文内容来自王伟与刘志远老师的产品课程《电商产品经理精进计划》，我在学习相关课程后加上自己的理解后，总结输出，巩固自己所学。本文只是部分课程内容，更多详细内容请在起点学院搜索课程参加。

作者：书丰，公众号：书丰产品记

本文由@书丰 原创发布于人人都是产品经理，未经许可，禁止转载。

题图来自 Unsplash，基于CC0协议